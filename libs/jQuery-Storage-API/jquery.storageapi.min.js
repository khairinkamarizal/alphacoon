!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e("object"==typeof exports?require("jquery"):jQuery)}(function(u){function f(e){var t,r,i,o=arguments.length,n=window[e],s=arguments,a=s[1];if(o<2)throw Error("Minimum 2 arguments must be given");if(u.isArray(a)){for(var f in r={},a){t=a[f];try{r[t]=JSON.parse(n.getItem(t))}catch(e){r[t]=n.getItem(t)}}return r}if(2!=o){try{r=JSON.parse(n.getItem(a))}catch(e){throw new ReferenceError(a+" is not defined in this storage")}for(f=2;f<o-1;f++)if(void 0===(r=r[s[f]]))throw new ReferenceError([].slice.call(s,1,f+1).join(".")+" is not defined in this storage");if(u.isArray(s[f])){for(var c in i=r,r={},s[f])r[s[f][c]]=i[s[f][c]];return r}return r[s[f]]}try{return JSON.parse(n.getItem(a))}catch(e){return n.getItem(a)}}function o(e){var t,r,i=arguments.length,o=window[e],n=arguments,s=n[1],a=n[2],f={};if(i<2||!u.isPlainObject(s)&&i<3)throw Error("Minimum 3 arguments must be given or second parameter must be an object");if(u.isPlainObject(s)){for(var c in s)t=s[c],u.isPlainObject(t)?o.setItem(c,JSON.stringify(t)):o.setItem(c,t);return s}if(3==i)return"object"==typeof a?o.setItem(s,JSON.stringify(a)):o.setItem(s,a),a;try{null!=(r=o.getItem(s))&&(f=JSON.parse(r))}catch(e){}r=f;for(c=2;c<i-2;c++)r[t=n[c]]&&u.isPlainObject(r[t])||(r[t]={}),r=r[t];return r[n[c]]=n[c+1],o.setItem(s,JSON.stringify(f)),f}function n(e){var t,r,i=arguments.length,o=window[e],n=arguments,s=n[1];if(i<2)throw Error("Minimum 2 arguments must be given");if(u.isArray(s)){for(var a in s)o.removeItem(s[a]);return!0}if(2==i)return o.removeItem(s),!0;try{t=r=JSON.parse(o.getItem(s))}catch(e){throw new ReferenceError(s+" is not defined in this storage")}for(a=2;a<i-1;a++)if(void 0===(r=r[n[a]]))throw new ReferenceError([].slice.call(n,1,a).join(".")+" is not defined in this storage");if(u.isArray(n[a]))for(var f in n[a])delete r[n[a][f]];else delete r[n[a]];return o.setItem(s,JSON.stringify(t)),!0}function s(e){var t=arguments.length,r=arguments,i=(window[e],r[1]);if(1==t)return 0==c(e).length;if(u.isArray(i)){for(var o=0;o<i.length;o++)if(!s(e,i[o]))return!1;return!0}try{var n=f.apply(this,arguments);for(o in u.isArray(r[t-1])||(n={totest:n}),n)if(!(u.isPlainObject(n[o])&&u.isEmptyObject(n[o])||u.isArray(n[o])&&!n[o].length)&&n[o])return!1;return!0}catch(e){return!0}}function a(e){var t=arguments.length,r=arguments,i=(window[e],r[1]);if(t<2)throw Error("Minimum 2 arguments must be given");if(u.isArray(i)){for(var o=0;o<i.length;o++)if(!a(e,i[o]))return!1;return!0}try{var n=f.apply(this,arguments);for(o in u.isArray(r[t-1])||(n={totest:n}),n)if(void 0===n[o]||null===n[o])return!1;return!0}catch(e){return!1}}function c(e){var t=arguments.length,r=window[e],i=arguments,o=[],n={};if((n=1<t?f.apply(this,i):r)._cookie)for(var s in u.cookie())""!=s&&o.push(s.replace(n._prefix,""));else for(var a in n)o.push(a);return o}function h(e){if(!e||"string"!=typeof e)throw Error("First parameter must be a string");r?(window.localStorage.getItem(e)||window.localStorage.setItem(e,"{}"),window.sessionStorage.getItem(e)||window.sessionStorage.setItem(e,"{}")):(window.localCookieStorage.getItem(e)||window.localCookieStorage.setItem(e,"{}"),window.sessionCookieStorage.getItem(e)||window.sessionCookieStorage.setItem(e,"{}"));var t={localStorage:u.extend({},u.localStorage,{_ns:e}),sessionStorage:u.extend({},u.sessionStorage,{_ns:e})};return u.cookie&&(window.cookieStorage.getItem(e)||window.cookieStorage.setItem(e,"{}"),t.cookieStorage=u.extend({},u.cookieStorage,{_ns:e})),u.namespaceStorages[e]=t}var e,r=function(e){var t="jsapi";try{return!!window[e]&&(window[e].setItem(t,t),window[e].removeItem(t),!0)}catch(e){return!1}}("localStorage"),t={_type:"",_ns:"",_callMethod:function(e,t){var r=[this._type],i=(t=Array.prototype.slice.call(t))[0];return this._ns&&r.push(this._ns),"string"==typeof i&&-1!==i.indexOf(".")&&(t.shift(),[].unshift.apply(t,i.split("."))),[].push.apply(r,t),e.apply(this,r)},get:function(){return this._callMethod(f,arguments)},set:function(){var e=arguments.length,t=arguments,r=t[0];if(e<1||!u.isPlainObject(r)&&e<2)throw Error("Minimum 2 arguments must be given or first parameter must be an object");if(u.isPlainObject(r)&&this._ns){for(var i in r)o(this._type,this._ns,i,r[i]);return r}t=this._callMethod(o,t);return this._ns?t[r.split(".")[0]]:t},remove:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(n,arguments)},removeAll:function(e){return this._ns?(o(this._type,this._ns,{}),!0):function(e,t){var r=c(e);for(i in r)n(e,r[i]);if(t)for(var i in u.namespaceStorages)h(i)}(this._type,e)},isEmpty:function(){return this._callMethod(s,arguments)},isSet:function(){if(arguments.length<1)throw Error("Minimum 1 argument must be given");return this._callMethod(a,arguments)},keys:function(){return this._callMethod(c,arguments)}};u.cookie&&(window.name||(window.name=Math.floor(1e8*Math.random())),e={_cookie:!0,_prefix:"",_expires:null,_path:null,_domain:null,setItem:function(e,t){u.cookie(this._prefix+e,t,{expires:this._expires,path:this._path,domain:this._domain})},getItem:function(e){return u.cookie(this._prefix+e)},removeItem:function(e){return u.removeCookie(this._prefix+e)},clear:function(){for(var e in u.cookie())""!=e&&(!this._prefix&&-1===e.indexOf("ls_")&&-1===e.indexOf("ss_")||this._prefix&&0===e.indexOf(this._prefix))&&u.removeCookie(e)},setExpires:function(e){return this._expires=e,this},setPath:function(e){return this._path=e,this},setDomain:function(e){return this._domain=e,this},setConf:function(e){return e.path&&(this._path=e.path),e.domain&&(this._domain=e.domain),e.expires&&(this._expires=e.expires),this},setDefaultConf:function(){this._path=this._domain=this._expires=null}},r||(window.localCookieStorage=u.extend({},e,{_prefix:"ls_",_expires:3650}),window.sessionCookieStorage=u.extend({},e,{_prefix:"ss_"+window.name+"_"})),window.cookieStorage=u.extend({},e),u.cookieStorage=u.extend({},t,{_type:"cookieStorage",setExpires:function(e){return window.cookieStorage.setExpires(e),this},setPath:function(e){return window.cookieStorage.setPath(e),this},setDomain:function(e){return window.cookieStorage.setDomain(e),this},setConf:function(e){return window.cookieStorage.setConf(e),this},setDefaultConf:function(){return window.cookieStorage.setDefaultConf(),this}})),u.initNamespaceStorage=h,r?(u.localStorage=u.extend({},t,{_type:"localStorage"}),u.sessionStorage=u.extend({},t,{_type:"sessionStorage"})):(u.localStorage=u.extend({},t,{_type:"localCookieStorage"}),u.sessionStorage=u.extend({},t,{_type:"sessionCookieStorage"})),u.namespaceStorages={},u.removeAllStorages=function(e){u.localStorage.removeAll(e),u.sessionStorage.removeAll(e),u.cookieStorage&&u.cookieStorage.removeAll(e),e||(u.namespaceStorages={})}});