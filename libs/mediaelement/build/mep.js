window.mep=window.mep||{},function(e,o){"use strict";var n=o(e);(e=e.mep).l10n=o.extend({nextTrack:"Next Track",previousTrack:"Previous Track",togglePlaylist:"Toggle Playlist",repeat:"Repeat",shuffle:"Shuffle",error:"Oh snap, there was a playback error!"},e.l10n||{}),e.settings=e.settings||{},mejs.plugins.silverlight[0].types.push("audio/x-ms-wma"),o("html").addClass(function(){return document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1")?"svg":"no-svg"}),o.extend(mejs.MepDefaults,{mepResponsiveProgress:!1,mepSelectors:{container:".mep-playlist-container"},mepSkin:""}),o.fn.mepPlaylist=function(n){var a=o.extend({},o.fn.mepPlaylist.defaults,n);return a.mepSelectors=o.extend({},mejs.MepDefaults.mepSelectors,{playlist:this.selector,track:".mep-track"}),"object"==typeof n&&"mepSelectors"in n&&o.extend(a.mepSelectors,n.mepSelectors),this.each(function(){var e,t,s=o(this),i=s.find(".mep-audio, audio, .mep-video, video"),r=s.find(".mep-playlist-data, script");if(r.length||(r=s.closest(a.mepSelectors.container).find(".mep-playlist-data, script")),r.length&&("signature"in(r=o.parseJSON(r.first().html()))&&(a.mepSignature=r.signature),"mepSignature"in r&&(a.mepSignature=r.mepSignature),(void 0===n||void 0===n.mepPlaylistTracks)&&"tracks"in r&&(a.mepPlaylistTracks=r.tracks)),a.mepPlaylistTracks.length){if(t=a.mepPlaylistTracks.length,s.addClass("mep-tracks-count-"+t),!i.length)for(e=0;e<t;e++)if(""!==a.mepPlaylistTracks[e].src){i=o("<audio />",{src:"mp3.mp3"}),-1!=a.mepPlaylistTracks[e].src.indexOf("youtube")&&(i=o("<video />",{src:a.mepPlaylistTracks[e].src,type:"video/youtube"}),a.mepSkin="mejs-video"),i.prependTo(s);break}i.mediaelementplayer(a)}})},o.fn.mepPlaylist.defaults={autosizeProgress:!1,mepPlaylistLoop:!0,mepPlaylistRepeat:!1,mepPlaylistShuffle:!1,mepPlaylistTracks:[],mepSkin:"mep-skin-default",defaultAudioHeight:0,enableAutosize:!1,features:["mepartwork","mepcurrentdetails","mepprevioustrack","playpause","mepnexttrack","progress","current","duration","mepplaylist"],success:function(e,t,s){var i=o(e),r=s.container.closest(s.options.mepSelectors.playlist);""!==s.options.mepSkin&&s.changeSkin(s.options.mepSkin),s.options.mepResponsiveProgress&&n.on("resize.mep",function(){s.controls.find(".mejs-time-rail").width("100%")}).trigger("resize.mep"),i.on("play.mep",function(){r.addClass("is-playing")}).on("pause.mep",function(){r.removeClass("is-playing")}),"youtube"==s.media.pluginType&&i.on("ended",function(){s.$media.trigger("ended.mep")}),o(s.options.mepSelectors.playlist).removeClass("is-loading"),r.trigger("success.mep",[e,t,s])},timeAndDurationSeparator:'<span class="mejs-time-separator"> / </span>'}}(this,jQuery),function(){"use strict";jQuery.extend(MediaElementPlayer.prototype,{buildmepartwork:function(e,t,s){var r=s.append('<a class="mejs-track-artwork"></a>').find(".mejs-track-artwork");e.$node.on("setTrack.mep",function(e,t,s){var i;t.thumb=t.thumb||{},i=void 0!==t.thumb.src&&""!==t.thumb.src,r.attr("href",t.link),r.css("background-image","url("+t.thumb.src+")").toggle(i),r.closest(s.options.mepSelectors.playlist).toggleClass("has-artwork",i)})}})}(),function(e,a){"use strict";var t,o,s=mejs.MediaElementPlayer.prototype.init;function l(i,e){var r=sessionStorage||{},t=i+"-signature";this.set=function(e,t){r[i+"-"+e]=t},this.get=function(e){var t,s=i+"-"+e;return void 0!==r[s]&&(t=r[s],"currentTime"===e?t=parseFloat(t):"status"===e?t="playing"===t?"playing":"paused":"trackIndex"===e?t=parseInt(t,10):"volume"===e&&(t=parseFloat(t))),t},this.clear=function(){for(var e in r)r.hasOwnProperty(e)&&0===e.indexOf(i+"-")&&delete r[e]},void 0!==r[t]&&r[t]===e||this.clear(),r[t]=e}mejs.MediaElementPlayer.prototype.init=function(){-1!==e.inArray("mephistory",this.options.features)&&(o=this.options.success,this.options.success=t),s.call(this)},t=function(e,t,s){var i=new l(s.options.mepId||"",s.options.mepSignature||""),r="autoplay"===e.getAttribute("autoplay"),n=mejs.MediaFeatures;i&&a!==i.get("volume")&&e.setVolume(i.get("volume")),i&&a!==i.get("trackIndex")&&(r="playing"===(i?i.get("status"):"")&&!n.isiOS&&!n.isAndroid&&!r,s.mepAutoResume=r,"mepPlaylistTracks"in s.options&&s.options.mepPlaylistTracks.length?s.mepSetCurrentTrack(i.get("trackIndex"),r):r&&s.mepPlay()),i&&a!==i.get("repeat")&&(s.options.mepPlaylistRepeat="true"==i.get("repeat"),s.updateRepeat()),i&&a!==i.get("shuffle")&&(s.options.mepPlaylistShuffle="true"==i.get("shuffle"),s.updateShuffle()),o.call(this,e,t,s)},e.extend(mejs.MepDefaults,{mepId:"mep",mepSignature:""}),e.extend(MediaElementPlayer.prototype,{mepHistory:null,mepAutoResume:!1,buildmephistory:function(t,e,s,i){var r=!1,n=mejs.MediaFeatures,a=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),o=t.mepHistory=new l(t.options.mepId,t.options.mepSignature),p=o.get("currentTime");i.addEventListener("play",function(){o.set("trackIndex",t.mepCurrentTrack),o.set("status","playing")}),i.addEventListener("pause",function(){o.set("status","paused")}),i.addEventListener("timeupdate",function(){o.set("currentTime",i.currentTime)}),i.addEventListener("volumechange",function(){o.set("volume",i.volume)}),i.addEventListener("playing",function(){if(!(r||p<1)){if(n.isiOS||a)var e=setInterval(function(){p<i.buffered.end(0)&&(clearInterval(e),t.setCurrentTime(p),t.setCurrentRail())},50);else try{t.setCurrentTime(p),t.setCurrentRail()}catch(e){}r=!0}}),t.$node.on("repeat.mep",function(){o.set("repeat",t.options.mepPlaylistRepeat)}),t.$node.on("shuffle.mep",function(){o.set("shuffle",t.options.mepPlaylistShuffle)})}})}(jQuery),function(s){"use strict";s.extend(MediaElementPlayer.prototype,{buildmepicons:function(e,t){s(e.options.mepSelectors.container).find("[data-mep-control]").each(function(){var e=s(this);e.appendTo(t.find(e.data("mepControl")))})}})}(jQuery),function(o){"use strict";var p,t;o.extend(mejs.MepDefaults,{mepPlaylistLoop:!0,mepPlaylistTracks:[]}),o.extend(mejs.MepDefaults.mepSelectors,{playlist:".mep-playlist",track:".mep-track",trackCurrentTime:".mep-track-current-time",trackDuration:".mep-track-duration",trackPlayBar:".mep-track-play-bar",trackProgressBar:".mep-track-progress-bar",trackSeekBar:".mep-track-seek-bar",tracklist:".mep-tracklist"}),o.extend(MediaElementPlayer.prototype,{$mepTracks:o(),mepCurrentTrack:0,buildmepplaylist:function(r,e,t,n){var a=r.options.mepSelectors,s=r.$media,i=r.container.closest(a.playlist);r.mepSetupTracklist(),r.mepSetCurrentTrack(r.options.mepPlaylistTracks[0],!1),i.on("click.mep",a.trackSeekBar,function(e){var t=o(this),s=(0<r.options.duration?r.options:r.media).duration,t=(t=(e.pageX-t.offset().left)/t.outerWidth())<.2?0:t;n.setCurrentTime(t*s)}),i.on("click.mep",a.track,function(e){var t=o(this),s=r.$mepTracks.index(t),i=o(e.target),e=t.find("a, .js-disable-playpause, "+a.trackProgressBar);i.is(e)||e.find(i).length||(p.setPlayer(r).setTrack(t),r.mepCurrentTrack===s&&""!==r.options.mepPlaylistTracks[s].src?n.paused?n.play():n.pause():r.mepSetCurrentTrack(s))}),s.on("play.mep",function(){var e=r.$mepTracks.removeClass("is-playing").eq(r.mepCurrentTrack).addClass("is-playing");p.setPlayer(r).setTrack(e)}),s.on("pause.mep",function(){r.$mepTracks.removeClass("is-playing")}),s.on("timeupdate.mep",function(){p.updateTimeCodes()}),s.on("ended.mep",function(){var e=r.mepCurrentTrack+1>=r.options.mepPlaylistTracks.length?0:r.mepCurrentTrack+1;if(r.options.mepPlaylistRepeat)return e=r.mepCurrentTrack,void r.mepSetCurrentTrack(e);!r.options.mepPlaylistLoop&&0===e||setTimeout(function(){r.$node.trigger("nextTrack.mep",r),r.mepPlayNextTrack()},250)})},mepPlay:function(){var e=this;!e.media.paused&&"flash"!==e.media.pluginType||(clearTimeout(t),t=setTimeout(function(){e.play()},50))},mepGetCurrentTrack:function(){return this.options.mepPlaylistTracks[this.mepCurrentTrack]},mepSetCurrentTrack:function(e,t){var s=this,i=s.options.mepSelectors;"number"==typeof e&&(s.mepCurrentTrack=e,e=s.mepGetCurrentTrack()),null!=e&&(s.container.closest(i.playlist).find(i.track).removeClass("is-current").eq(s.mepCurrentTrack).addClass("is-current"),e.length&&s.controls.find(".mejs-duration").text(e.length),e.src&&e.src!==s.media.src&&(s.pause(),s.setSrc(e.src),s.load()),s.$node.trigger("setTrack.mep",[e,s]),e.src&&(void 0===t||t)&&s.mepPlay())},mepSetupTracklist:function(){var t=this,e=t.options.mepSelectors,s=t.container.closest(e.playlist);t.$mepTracks=s.find(e.track),t.$mepTracks.filter(function(e){e=t.options.mepPlaylistTracks[e]||{};return"src"in e&&""!==e.src}).addClass("is-playable")}}),p={player:null,$track:o(),$duration:o(),$playBar:o(),$time:o(),setPlayer:function(e){return this.player=e,this},setTrack:function(e){var t=this.player.options.mepSelectors;return this.$track=e instanceof jQuery?e:o(e),this.$duration=this.$track.find(t.trackDuration),this.$playBar=this.$track.find(t.trackPlayBar),this.$time=this.$track.find(t.trackCurrentTime),this},updateTimeCodes:function(){var e,t,s,i=this.player;if(null!==i)return e=(0<i.options.duration?i.options:i.media).duration,isNaN(e)||(t=mejs.Utility.secondsToTimeCode(e,i.options.alwaysShowHours,i.options.showTimecodeFrameCount,i.options.framesPerSecond||25),s=mejs.Utility.secondsToTimeCode(i.media.currentTime,i.options.alwaysShowHours||3600<i.media.duration,i.options.showTimecodeFrameCount,i.options.framesPerSecond||25),this.$duration.text(t),this.$playBar.width(i.media.currentTime/e*100+"%"),this.$time.text(s)),this}}}(jQuery),function(){"use strict";jQuery.extend(MediaElementPlayer.prototype,{buildmepsource:function(e,t,s){var i=s.append('<div class="mejs-track-source"><i></i></div>').find(".mejs-track-source");e.$node.on("setTrack.mep",function(e,t,s){t.source?i.show().find("i").attr("class","").addClass(t.source.from):i.hide()})}})}(),function(a){"use strict";a.extend(MediaElementPlayer.prototype,{buildmepbuffering:function(e,t,s,i){var r=e.container,n=a('<div class="mejs-overlay-error mejs-layer"><div class="mejs-error"></div></div>').hide().appendTo(s).on("click.mep",function(){a(this).hide()});i.addEventListener("play",function(){r.removeClass("is-buffering"),a("body").removeClass("is-buffering"),n.hide()},!1),i.addEventListener("playing",function(){r.removeClass("is-buffering"),a("body").removeClass("is-buffering"),n.hide()},!1),i.addEventListener("seeking",function(){r.addClass("is-buffering"),a("body").addClass("is-buffering")},!1),i.addEventListener("seeked",function(){r.removeClass("is-buffering"),a("body").removeClass("is-buffering")},!1),i.addEventListener("waiting",function(){r.addClass("is-buffering"),a("body").addClass("is-buffering")},!1),i.addEventListener("loadeddata",function(){isNaN(i.duration)||"Infinity"==i.duration?r.find(".mejs-duration").addClass("mejs-time-infinity"):r.find(".mejs-duration").removeClass("mejs-time-infinity"),r.addClass("is-buffering"),a("body").addClass("is-buffering")},!1),i.addEventListener("canplay",function(){r.removeClass("is-buffering"),a("body").removeClass("is-buffering")},!1),i.addEventListener("error",function(e){r.removeClass("is-buffering"),a("body").removeClass("is-buffering"),n.show(),n.find(".mejs-error").html(mep.l10n.error)},!1)}})}(jQuery),function(r){"use strict";r.extend(MediaElementPlayer.prototype,{buildyoutube:function(e,t,s,i){"youtube"===i.pluginType&&(r.extend(i,{setSrc:function(e){var t;-1!=(i.src=e).lastIndexOf("youtu.be")?-1!=(t=e.substr(e.lastIndexOf("/")+1)).indexOf("?")&&(t=t.substr(0,t.indexOf("?"))):t=e.substr(e.lastIndexOf("=")+1),this.pluginApi.loadVideoById(t)}}),r('<div class="mejs-button mejs-youtube-button mejs-repeat"><button type="button" aria-controls="'+e.id+'"></button></div>').appendTo(t).on("click.mep",function(){e.container.toggleClass("video-open")}))}})}(jQuery),function(n){"use strict";n.extend(MediaElementPlayer.prototype,{buildmeptracklist:function(t,e,s){var i=t.container.closest(t.options.mepSelectors.playlist),r=n("<ol></ol>").addClass(t.options.mepSelectors.tracklist.substring(1));i.find(t.options.mepSelectors.tracklist).length||(i.append(r),t.updatemepList(),i.on("click.track.mep",".track-remove",function(e){e.preventDefault();e=n(this).parent().parent().index();t.mepRemove(t.options.mepPlaylistTracks[e])}))},updatemepList:function(){var t=this,e=t.container.closest(t.options.mepSelectors.playlist),s=e.find(t.options.mepSelectors.tracklist);s.html(""),n.each(t.options.mepPlaylistTracks,function(e){s.append(t.createItem(t.options.mepPlaylistTracks[e]))}),t.$mepTracks=e.find(t.options.mepSelectors.track)},createItem:function(e){return'<li class="track"><div class="track-action"><a class="track-remove">&times;</a></div><div class="track-info"><span class="track-title">'+e.title+'</span><span class="track-author">'+e.meta.author+"</span></div></li>"},mepAdd:function(e,t){var s=this,i=s.container.closest(s.options.mepSelectors.playlist),r=i.find(s.options.mepSelectors.tracklist),n=s.find(e.id);-1<n?t&&s.mepSelect(n,t):(s.options.mepPlaylistTracks.push(e),r.append(s.createItem(e)),s.$mepTracks=i.find(s.options.mepSelectors.track),t&&s.mepSelect(s.options.mepPlaylistTracks.length-1,t))},mepRemove:function(e){var t=this,s=t.container.closest(t.options.mepSelectors.playlist),i=s.find(t.options.mepSelectors.track);null==e.id||-1<(e=t.find(e.id))&&(t.options.mepPlaylistTracks.splice(e,1),i.eq(e).remove(),t.$mepTracks=s.find(t.options.mepSelectors.track),t.mepCurrentTrack==e&&(e=t.options.mepPlaylistTracks.length>e?e:e-1,t.mepSelect(e)))},mepSelect:function(e,t){this.mepSetCurrentTrack(e,t)},find:function(e){for(var t=-1,s=0;s<this.options.mepPlaylistTracks.length;s++)if(this.options.mepPlaylistTracks[s].id===e)return t=s;return t}})}(jQuery);